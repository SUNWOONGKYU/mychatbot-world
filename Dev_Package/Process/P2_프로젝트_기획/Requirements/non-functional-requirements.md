# 비기능 요구사항

> **프로젝트**: AI 챗봇 & 아바타 개발 프로젝트
> **작성일**: 2026-02-09
> **작성자**: 써니봇2

---

## 📋 비기능 요구사항 개요

이 문서는 시스템의 **품질 속성**을 정의합니다.  
기능 요구사항이 "무엇을" 해야 하는지 정의한다면, 비기능 요구사항은 "얼마나 잘" 해야 하는지 정의합니다.

---

## ⚡ 1. 성능 (Performance)

### 1.1 응답 시간
- **NFR-001**: API 응답 시간 < 500ms (95 percentile)
- **NFR-002**: 챗봇 첫 응답 시작 < 1초 (스트리밍 시작)
- **NFR-003**: 페이지 로드 시간 < 2초 (First Contentful Paint)
- **NFR-004**: 3D 아바타 로딩 시간 < 3초

### 1.2 렌더링
- **NFR-005**: 3D 아바타 프레임률 ≥ 60 FPS
- **NFR-006**: 애니메이션 전환 지연 < 100ms
- **NFR-007**: 스크롤 부드러움 (Jank-free)

### 1.3 처리량
- **NFR-008**: 동시 사용자 1,000명 지원 (MVP)
- **NFR-009**: 동시 사용자 10,000명 지원 (1년 내)
- **NFR-010**: API 처리량 1,000 requests/second

---

## 🔄 2. 확장성 (Scalability)

### 2.1 수평 확장
- **NFR-011**: 백엔드 서버 자동 스케일링 (CPU 70% 이상 시)
- **NFR-012**: 데이터베이스 읽기 복제 (Read Replica) 지원
- **NFR-013**: 로드 밸런서 구성

### 2.2 수직 확장
- **NFR-014**: 단일 서버 최대 500 동시 연결 처리
- **NFR-015**: 메모리 사용량 < 4GB per instance

### 2.3 데이터 증가 대응
- **NFR-016**: 사용자 10만 명까지 지원
- **NFR-017**: 대화 1,000만 건까지 저장
- **NFR-018**: 데이터베이스 파티셔닝 (Sharding) 준비

---

## 🛡️ 3. 보안 (Security)

### 3.1 인증 및 인가
- **NFR-020**: JWT 토큰 만료 시간 24시간
- **NFR-021**: Refresh Token 만료 시간 7일
- **NFR-022**: 비밀번호 해싱 (bcrypt, salt 포함)
- **NFR-023**: 로그인 실패 5회 시 계정 잠금 (1시간)

### 3.2 데이터 암호화
- **NFR-024**: 전송 중 암호화 (HTTPS/TLS 1.3)
- **NFR-025**: 저장 시 민감 데이터 암호화 (AES-256)
- **NFR-026**: 환경 변수 안전 관리 (.env, AWS Secrets Manager)

### 3.3 취약점 방어
- **NFR-027**: SQL Injection 방어 (Prepared Statements)
- **NFR-028**: XSS 방어 (Input Sanitization)
- **NFR-029**: CSRF 방어 (CSRF Token)
- **NFR-030**: Rate Limiting (IP당 100 requests/minute)

### 3.4 개인정보 보호
- **NFR-031**: GDPR 준수
- **NFR-032**: 개인정보 최소 수집
- **NFR-033**: 대화 내용 익명화 옵션
- **NFR-034**: 계정 삭제 시 데이터 즉시 삭제 (7일 유예 후)

---

## 📈 4. 가용성 (Availability)

### 4.1 업타임
- **NFR-040**: 서비스 가동률 ≥ 99.5% (월 3.6시간 다운타임 허용)
- **NFR-041**: 계획된 유지보수는 사용자가 적은 시간대 (새벽 2-4시)
- **NFR-042**: 긴급 패치는 5분 이내 배포 가능

### 4.2 장애 복구
- **NFR-043**: RTO (Recovery Time Objective) < 1시간
- **NFR-044**: RPO (Recovery Point Objective) < 5분 (데이터 손실)
- **NFR-045**: 자동 장애 조치 (Failover)

### 4.3 백업
- **NFR-046**: 데이터베이스 일일 백업 (자동)
- **NFR-047**: 백업 보관 기간 30일
- **NFR-048**: 백업 복원 테스트 월 1회

---

## 🔧 5. 유지보수성 (Maintainability)

### 5.1 코드 품질
- **NFR-050**: 테스트 커버리지 ≥ 80%
- **NFR-051**: 린트 규칙 준수 (ESLint, Flake8)
- **NFR-052**: 코드 리뷰 필수 (모든 Pull Request)
- **NFR-053**: 주석 및 문서화 (복잡한 로직)

### 5.2 모니터링
- **NFR-054**: 로그 수집 (중앙화)
- **NFR-055**: 에러 추적 (Sentry)
- **NFR-056**: 성능 모니터링 (Prometheus + Grafana)
- **NFR-057**: 알림 설정 (Slack/이메일)

### 5.3 배포
- **NFR-058**: CI/CD 파이프라인 (자동 테스트 + 배포)
- **NFR-059**: Blue-Green 배포 (무중단)
- **NFR-060**: 롤백 가능 (1명령어로)

---

## 🌐 6. 호환성 (Compatibility)

### 6.1 브라우저 지원
- **NFR-061**: Chrome 100+ (우선)
- **NFR-062**: Firefox 100+
- **NFR-063**: Safari 15+
- **NFR-064**: Edge 100+
- **NFR-065**: 모바일 브라우저 (Chrome, Safari)

### 6.2 운영체제
- **NFR-066**: Windows 10+
- **NFR-067**: macOS 11+
- **NFR-068**: iOS 15+
- **NFR-069**: Android 10+

### 6.3 화면 해상도
- **NFR-070**: Desktop: 1920x1080 ~ 3840x2160
- **NFR-071**: Tablet: 768x1024 ~ 1366x1024
- **NFR-072**: Mobile: 375x667 ~ 428x926

---

## 🎨 7. 사용성 (Usability)

### 7.1 학습 용이성
- **NFR-080**: 첫 사용자가 5분 내 첫 대화 시작
- **NFR-081**: 도움말/튜토리얼 제공
- **NFR-082**: 직관적인 UI (추가 설명 최소화)

### 7.2 효율성
- **NFR-083**: 주요 작업 3클릭 이내 완료
- **NFR-084**: 키보드 단축키 지원
- **NFR-085**: 자주 사용하는 기능 빠른 접근

### 7.3 오류 처리
- **NFR-086**: 명확한 오류 메시지
- **NFR-087**: 복구 제안 제공
- **NFR-088**: 오류 시 데이터 손실 방지

### 7.4 접근성
- **NFR-089**: WCAG 2.1 AA 수준 준수
- **NFR-090**: 스크린 리더 호환
- **NFR-091**: 고대비 모드 지원
- **NFR-092**: 폰트 크기 조절 (100% ~ 200%)

---

## 📦 8. 이식성 (Portability)

### 8.1 플랫폼 독립성
- **NFR-100**: Docker 컨테이너화
- **NFR-101**: 클라우드 제공자 독립적 (AWS/GCP 전환 가능)
- **NFR-102**: 데이터베이스 마이그레이션 도구

### 8.2 데이터 포팅
- **NFR-103**: 데이터 내보내기 (JSON, CSV)
- **NFR-104**: 데이터 가져오기
- **NFR-105**: 백업 복원 자동화

---

## 🧪 9. 테스트 가능성 (Testability)

### 9.1 자동화 테스트
- **NFR-110**: 단위 테스트 커버리지 ≥ 80%
- **NFR-111**: 통합 테스트 핵심 플로우 100%
- **NFR-112**: E2E 테스트 주요 시나리오 100%

### 9.2 테스트 환경
- **NFR-113**: 개발/스테이징/프로덕션 환경 분리
- **NFR-114**: 테스트 데이터 자동 생성
- **NFR-115**: 테스트 환경 독립성 (프로덕션 영향 없음)

---

## 📊 10. 성능 벤치마크 목표

### 10.1 MVP 단계
```
동시 사용자:     1,000명
API 응답:        < 500ms
페이지 로드:     < 2초
3D 렌더링:       60 FPS
가동률:          99.5%
```

### 10.2 성장기 (1년 후)
```
동시 사용자:     10,000명
API 응답:        < 300ms
페이지 로드:     < 1.5초
3D 렌더링:       60 FPS
가동률:          99.9%
```

### 10.3 성숙기 (3년 후)
```
동시 사용자:     100,000명
API 응답:        < 200ms
페이지 로드:     < 1초
3D 렌더링:       60 FPS
가동률:          99.95%
```

---

## 🔍 11. 모니터링 지표

### 11.1 필수 모니터링
- **NFR-120**: CPU 사용률
- **NFR-121**: 메모리 사용률
- **NFR-122**: 네트워크 트래픽
- **NFR-123**: 디스크 I/O
- **NFR-124**: 데이터베이스 쿼리 시간

### 11.2 비즈니스 지표
- **NFR-125**: 활성 사용자 수 (DAU/MAU)
- **NFR-126**: API 호출 빈도
- **NFR-127**: 오류율 (< 1%)
- **NFR-128**: 평균 응답 시간

---

## ✅ 검증 방법

### 성능 검증
- 부하 테스트 (Apache JMeter, k6)
- 프로파일링 (Chrome DevTools, Pyflame)

### 보안 검증
- 취약점 스캔 (OWASP ZAP)
- 코드 분석 (SonarQube)

### 가용성 검증
- 카오스 엔지니어링 (Chaos Monkey)
- 백업 복원 테스트

### 사용성 검증
- 사용자 테스트 (10명+)
- A/B 테스트

---

**작성일**: 2026-02-09  
**버전**: 1.0  
**작성자**: 써니봇2
